'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var constants = require('../constants');

var ADD_TODO = constants.ADD_TODO,
    TOGGLE_TODO = constants.TOGGLE_TODO;

var todos = function todos() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var type = action.type;


  switch (type) {
    case ADD_TODO:
      var todo = newTodo(action);

      state = [].concat(_toConsumableArray(state), [todo]);
      break;

    case TOGGLE_TODO:
      state = state.map(function (todo) {
        todo = toggleTodo(todo, action);

        return todo;
      });
      break;
  }

  return state;
};

module.exports = todos;

var newTodo = function newTodo(action) {
  var id = action.id,
      text = action.text,
      completed = false,
      todo = {
    id: id,
    text: text,
    completed: completed
  };


  return todo;
};

var toggleTodo = function toggleTodo(todo, action) {
  var id = action.id;


  if (todo.id === id) {
    var completed = todo.completed;


    completed = !completed;

    todo.completed = completed;
  }

  return todo;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VzNi9leGFtcGxlcy9yZWR1eEFwcC9yZWR1Y2VyL3RvZG9zLmpzIl0sIm5hbWVzIjpbImNvbnN0YW50cyIsInJlcXVpcmUiLCJBRERfVE9ETyIsIlRPR0dMRV9UT0RPIiwidG9kb3MiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJ0b2RvIiwibmV3VG9kbyIsIm1hcCIsInRvZ2dsZVRvZG8iLCJtb2R1bGUiLCJleHBvcnRzIiwiaWQiLCJ0ZXh0IiwiY29tcGxldGVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLElBQU1BLFlBQVlDLFFBQVEsY0FBUixDQUFsQjs7QUFFQSxJQUFNQyxXQUFXRixVQUFVRSxRQUEzQjtBQUFBLElBQ01DLGNBQWNILFVBQVVHLFdBRDlCOztBQUdBLElBQU1DLFFBQVEsU0FBUkEsS0FBUSxHQUE2QjtBQUFBLE1BQTVCQyxLQUE0Qix1RUFBcEIsRUFBb0I7QUFBQSxNQUFoQkMsTUFBZ0IsdUVBQVAsRUFBTztBQUFBLE1BQ2pDQyxJQURpQyxHQUN4QkQsTUFEd0IsQ0FDakNDLElBRGlDOzs7QUFHekMsVUFBUUEsSUFBUjtBQUNFLFNBQUtMLFFBQUw7QUFDRSxVQUFNTSxPQUFPQyxRQUFRSCxNQUFSLENBQWI7O0FBRUFELDJDQUNLQSxLQURMLElBRUVHLElBRkY7QUFJQTs7QUFFRixTQUFLTCxXQUFMO0FBQ0VFLGNBQVFBLE1BQU1LLEdBQU4sQ0FBVSxVQUFDRixJQUFELEVBQVU7QUFDMUJBLGVBQU9HLFdBQVdILElBQVgsRUFBaUJGLE1BQWpCLENBQVA7O0FBRUEsZUFBT0UsSUFBUDtBQUNELE9BSk8sQ0FBUjtBQUtBO0FBaEJKOztBQW1CQSxTQUFPSCxLQUFQO0FBQ0QsQ0F2QkQ7O0FBeUJBTyxPQUFPQyxPQUFQLEdBQWlCVCxLQUFqQjs7QUFFQSxJQUFNSyxVQUFVLFNBQVZBLE9BQVUsQ0FBQ0gsTUFBRCxFQUFZO0FBQUEsTUFDbEJRLEVBRGtCLEdBQ0xSLE1BREssQ0FDbEJRLEVBRGtCO0FBQUEsTUFDZEMsSUFEYyxHQUNMVCxNQURLLENBQ2RTLElBRGM7QUFBQSxNQUVwQkMsU0FGb0IsR0FFUixLQUZRO0FBQUEsTUFHcEJSLElBSG9CLEdBR2I7QUFDTE0sUUFBSUEsRUFEQztBQUVMQyxVQUFNQSxJQUZEO0FBR0xDLGVBQVdBO0FBSE4sR0FIYTs7O0FBUzFCLFNBQU9SLElBQVA7QUFDRCxDQVZEOztBQVlBLElBQU1HLGFBQWEsU0FBYkEsVUFBYSxDQUFDSCxJQUFELEVBQU9GLE1BQVAsRUFBa0I7QUFBQSxNQUMzQlEsRUFEMkIsR0FDcEJSLE1BRG9CLENBQzNCUSxFQUQyQjs7O0FBR25DLE1BQUlOLEtBQUtNLEVBQUwsS0FBWUEsRUFBaEIsRUFBb0I7QUFBQSxRQUNaRSxTQURZLEdBQ0VSLElBREYsQ0FDWlEsU0FEWTs7O0FBR2xCQSxnQkFBWSxDQUFDQSxTQUFiOztBQUVBUixTQUFLUSxTQUFMLEdBQWlCQSxTQUFqQjtBQUNEOztBQUVELFNBQU9SLElBQVA7QUFDRCxDQVpEIiwiZmlsZSI6InRvZG9zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBjb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuY29uc3QgQUREX1RPRE8gPSBjb25zdGFudHMuQUREX1RPRE8sXG4gICAgICBUT0dHTEVfVE9ETyA9IGNvbnN0YW50cy5UT0dHTEVfVE9ETztcblxuY29uc3QgdG9kb3MgPSAoc3RhdGUgPSBbXSwgYWN0aW9uID0ge30pID0+IHtcbiAgY29uc3QgeyB0eXBlIH0gPSBhY3Rpb247XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBBRERfVE9ETzpcbiAgICAgIGNvbnN0IHRvZG8gPSBuZXdUb2RvKGFjdGlvbik7XG5cbiAgICAgIHN0YXRlID0gW1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdG9kb1xuICAgICAgXTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBUT0dHTEVfVE9ETzpcbiAgICAgIHN0YXRlID0gc3RhdGUubWFwKCh0b2RvKSA9PiB7XG4gICAgICAgIHRvZG8gPSB0b2dnbGVUb2RvKHRvZG8sIGFjdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHRvZG87XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0b2RvcztcblxuY29uc3QgbmV3VG9kbyA9IChhY3Rpb24pID0+IHtcbiAgY29uc3QgeyBpZCwgdGV4dCB9ID0gYWN0aW9uLFxuICAgICAgICBjb21wbGV0ZWQgPSBmYWxzZSxcbiAgICAgICAgdG9kbyA9IHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBjb21wbGV0ZWQ6IGNvbXBsZXRlZFxuICAgICAgICB9O1xuXG4gIHJldHVybiB0b2RvO1xufTtcblxuY29uc3QgdG9nZ2xlVG9kbyA9ICh0b2RvLCBhY3Rpb24pID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gYWN0aW9uO1xuXG4gIGlmICh0b2RvLmlkID09PSBpZCkge1xuICAgIGxldCB7IGNvbXBsZXRlZCB9ID0gdG9kbztcblxuICAgIGNvbXBsZXRlZCA9ICFjb21wbGV0ZWQ7XG5cbiAgICB0b2RvLmNvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbiAgfVxuXG4gIHJldHVybiB0b2RvO1xufTtcbiJdfQ==