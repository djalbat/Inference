'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var constants = require('../constants');

var ADD_TODO = constants.ADD_TODO,
    TOGGLE_TODO = constants.TOGGLE_TODO;

var todos = function todos() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var type = action.type;


  switch (type) {
    case ADD_TODO:
      var todo = newTodo(action);

      state = [].concat(_toConsumableArray(state), [todo]);
      break;

    case TOGGLE_TODO:
      state = state.map(function (todo) {
        todo = toggleTodo(todo, action);

        return todo;
      });
      break;
  }

  return state;
};

module.exports = todos;

var newTodo = function newTodo(action) {
  var id = action.id,
      text = action.text,
      completed = false,
      todo = {
    id: id,
    text: text,
    completed: completed
  };


  return todo;
};

var toggleTodo = function toggleTodo(todo, action) {
  var id = action.id;


  if (todo.id === id) {
    var completed = todo.completed;


    completed = !completed;

    todo.completed = completed;
  }

  return todo;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VzNi9leGFtcGxlcy9yZWR1eEFwcC9yZWR1Y2VyL3RvZG9zLmpzIl0sIm5hbWVzIjpbImNvbnN0YW50cyIsInJlcXVpcmUiLCJBRERfVE9ETyIsIlRPR0dMRV9UT0RPIiwidG9kb3MiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJ0b2RvIiwibmV3VG9kbyIsIm1hcCIsInRvZ2dsZVRvZG8iLCJtb2R1bGUiLCJleHBvcnRzIiwiaWQiLCJ0ZXh0IiwiY29tcGxldGVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLElBQU1BLFlBQVlDLFFBQVEsY0FBUixDQUFsQjs7QUFFQSxJQUFNQyxXQUFXRixVQUFVRSxRQUEzQjtBQUFBLElBQ01DLGNBQWNILFVBQVVHLFdBRDlCOztBQUdBLElBQU1DLFFBQVEsU0FBUkEsS0FBUSxHQUE2QjtBQUFBLE1BQTVCQyxLQUE0Qix1RUFBcEIsRUFBb0I7QUFBQSxNQUFoQkMsTUFBZ0IsdUVBQVAsRUFBTztBQUFBLE1BQ2pDQyxJQURpQyxHQUN4QkQsTUFEd0IsQ0FDakNDLElBRGlDOzs7QUFHekMsVUFBUUEsSUFBUjtBQUNFLFNBQUtMLFFBQUw7QUFDRSxVQUFNTSxPQUFPQyxRQUFRSCxNQUFSLENBQWI7O0FBRUFELDJDQUNLQSxLQURMLElBRUVHLElBRkY7QUFJQTs7QUFFRixTQUFLTCxXQUFMO0FBQ0VFLGNBQVFBLE1BQU1LLEdBQU4sQ0FBVSxVQUFDRixJQUFELEVBQVU7QUFDMUJBLGVBQU9HLFdBQVdILElBQVgsRUFBaUJGLE1BQWpCLENBQVA7O0FBRUEsZUFBT0UsSUFBUDtBQUNELE9BSk8sQ0FBUjtBQUtBO0FBaEJKOztBQW1CQSxTQUFPSCxLQUFQO0FBQ0QsQ0F2QkQ7O0FBeUJBTyxPQUFPQyxPQUFQLEdBQWlCVCxLQUFqQjs7QUFFQSxJQUFNSyxVQUFVLFNBQVZBLE9BQVUsQ0FBQ0gsTUFBRCxFQUFZO0FBQUEsTUFDbEJRLEVBRGtCLEdBQ0xSLE1BREssQ0FDbEJRLEVBRGtCO0FBQUEsTUFDZEMsSUFEYyxHQUNMVCxNQURLLENBQ2RTLElBRGM7QUFBQSxNQUVwQkMsU0FGb0IsR0FFUixLQUZRO0FBQUEsTUFHcEJSLElBSG9CLEdBR2I7QUFDTE0sUUFBSUEsRUFEQztBQUVMQyxVQUFNQSxJQUZEO0FBR0xDLGVBQVdBO0FBSE4sR0FIYTs7O0FBUzFCLFNBQU9SLElBQVA7QUFDRCxDQVZEOztBQVlBLElBQU1HLGFBQWEsU0FBYkEsVUFBYSxDQUFDSCxJQUFELEVBQU9GLE1BQVAsRUFBa0I7QUFBQSxNQUMzQlEsRUFEMkIsR0FDcEJSLE1BRG9CLENBQzNCUSxFQUQyQjs7O0FBR25DLE1BQUlOLEtBQUtNLEVBQUwsS0FBWUEsRUFBaEIsRUFBb0I7QUFBQSxRQUNaRSxTQURZLEdBQ0VSLElBREYsQ0FDWlEsU0FEWTs7O0FBR2xCQSxnQkFBWSxDQUFDQSxTQUFiOztBQUVBUixTQUFLUSxTQUFMLEdBQWlCQSxTQUFqQjtBQUNEOztBQUVELFNBQU9SLElBQVA7QUFDRCxDQVpEIiwiZmlsZSI6InRvZG9zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBjb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuY29uc3QgQUREX1RPRE8gPSBjb25zdGFudHMuQUREX1RPRE8sXG4gICAgICBUT0dHTEVfVE9ETyA9IGNvbnN0YW50cy5UT0dHTEVfVE9ETztcblxuY29uc3QgdG9kb3MgPSAoc3RhdGUgPSBbXSwgYWN0aW9uID0ge30pID0+IHtcbiAgY29uc3QgeyB0eXBlIH0gPSBhY3Rpb247XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBBRERfVE9ETyA6XG4gICAgICBjb25zdCB0b2RvID0gbmV3VG9kbyhhY3Rpb24pO1xuXG4gICAgICBzdGF0ZSA9IFtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvZG9cbiAgICAgIF07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgVE9HR0xFX1RPRE8gOlxuICAgICAgc3RhdGUgPSBzdGF0ZS5tYXAoKHRvZG8pID0+IHtcbiAgICAgICAgdG9kbyA9IHRvZ2dsZVRvZG8odG9kbywgYWN0aW9uKTtcblxuICAgICAgICByZXR1cm4gdG9kbztcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRvZG9zO1xuXG5jb25zdCBuZXdUb2RvID0gKGFjdGlvbikgPT4ge1xuICBjb25zdCB7IGlkLCB0ZXh0IH0gPSBhY3Rpb24sXG4gICAgICAgIGNvbXBsZXRlZCA9IGZhbHNlLFxuICAgICAgICB0b2RvID0ge1xuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGNvbXBsZXRlZDogY29tcGxldGVkXG4gICAgICAgIH07XG5cbiAgcmV0dXJuIHRvZG87XG59O1xuXG5jb25zdCB0b2dnbGVUb2RvID0gKHRvZG8sIGFjdGlvbikgPT4ge1xuICBjb25zdCB7IGlkIH0gPSBhY3Rpb247XG5cbiAgaWYgKHRvZG8uaWQgPT09IGlkKSB7XG4gICAgbGV0IHsgY29tcGxldGVkIH0gPSB0b2RvO1xuXG4gICAgY29tcGxldGVkID0gIWNvbXBsZXRlZDtcblxuICAgIHRvZG8uY29tcGxldGVkID0gY29tcGxldGVkO1xuICB9XG5cbiAgcmV0dXJuIHRvZG87XG59O1xuIl19