'use strict';

var createStore = function createStore(reducer) {
  var state = void 0,
      listeners = [];

  var getState = function getState() {
    return state;
  };

  var dispatch = function dispatch(action) {
    state = reducer(state, action);

    listeners.forEach(function (listener) {
      return listener();
    });
  };

  var subscribe = function subscribe(listener) {
    listeners.push(listener);

    return function () {
      unsubscribe(listener);
    };
  };

  var unsubscribe = function unsubscribe(l) {
    listeners = listeners.filter(function (listener) {
      return listener !== l;
    });
  };

  dispatch({
    type: undefined ///
  });

  return { getState: getState, dispatch: dispatch, subscribe: subscribe, unsubscribe: unsubscribe };
};

var combineReducers = function combineReducers(reducers) {
  return function () {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var action = arguments[1];

    var keys = Object.keys(reducers),
        nextState = keys.reduce(function (nextState, key) {
      var reducer = reducers[key];

      nextState[key] = reducer(state[key], action);

      return nextState;
    }, {});

    return nextState;
  };
};

var redux = { createStore: createStore, combineReducers: combineReducers };

module.exports = redux;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9leGFtcGxlcy9yZWR1eC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVTdG9yZSIsInJlZHVjZXIiLCJzdGF0ZSIsImxpc3RlbmVycyIsImdldFN0YXRlIiwiZGlzcGF0Y2giLCJhY3Rpb24iLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJzdWJzY3JpYmUiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJsIiwiZmlsdGVyIiwidHlwZSIsInVuZGVmaW5lZCIsImNvbWJpbmVSZWR1Y2VycyIsInJlZHVjZXJzIiwia2V5cyIsIk9iamVjdCIsIm5leHRTdGF0ZSIsInJlZHVjZSIsImtleSIsInJlZHV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsY0FBYyxTQUFkQSxXQUFjLENBQUNDLE9BQUQsRUFBYTtBQUMvQixNQUFJQyxjQUFKO0FBQUEsTUFDSUMsWUFBWSxFQURoQjs7QUFHQSxNQUFNQyxXQUFXLFNBQVhBLFFBQVcsR0FBTTtBQUNyQixXQUFPRixLQUFQO0FBQ0QsR0FGRDs7QUFJQSxNQUFNRyxXQUFXLFNBQVhBLFFBQVcsQ0FBQ0MsTUFBRCxFQUFZO0FBQzNCSixZQUFRRCxRQUFRQyxLQUFSLEVBQWVJLE1BQWYsQ0FBUjs7QUFFQUgsY0FBVUksT0FBVixDQUFrQixVQUFDQyxRQUFEO0FBQUEsYUFBY0EsVUFBZDtBQUFBLEtBQWxCO0FBQ0QsR0FKRDs7QUFNQSxNQUFNQyxZQUFZLFNBQVpBLFNBQVksQ0FBQ0QsUUFBRCxFQUFjO0FBQzlCTCxjQUFVTyxJQUFWLENBQWVGLFFBQWY7O0FBRUEsV0FBUSxZQUFNO0FBQ1pHLGtCQUFZSCxRQUFaO0FBQ0QsS0FGRDtBQUdELEdBTkQ7O0FBUUEsTUFBTUcsY0FBYyxTQUFkQSxXQUFjLENBQUNDLENBQUQsRUFBTztBQUN6QlQsZ0JBQVlBLFVBQVVVLE1BQVYsQ0FBaUIsVUFBQ0wsUUFBRCxFQUFjO0FBQ3pDLGFBQVFBLGFBQWFJLENBQXJCO0FBQ0QsS0FGVyxDQUFaO0FBR0QsR0FKRDs7QUFNQVAsV0FBUztBQUNQUyxVQUFNQyxTQURDLENBQ1M7QUFEVCxHQUFUOztBQUlBLFNBQU8sRUFBRVgsa0JBQUYsRUFBWUMsa0JBQVosRUFBc0JJLG9CQUF0QixFQUFpQ0Usd0JBQWpDLEVBQVA7QUFDRCxDQWpDRDs7QUFtQ0EsSUFBTUssa0JBQWtCLFNBQWxCQSxlQUFrQixDQUFDQyxRQUFELEVBQWM7QUFDcEMsU0FBTyxZQUF3QjtBQUFBLFFBQXZCZixLQUF1Qix1RUFBZixFQUFlO0FBQUEsUUFBWEksTUFBVzs7QUFDN0IsUUFBTVksT0FBT0MsT0FBT0QsSUFBUCxDQUFZRCxRQUFaLENBQWI7QUFBQSxRQUNNRyxZQUFZRixLQUFLRyxNQUFMLENBQVksVUFBQ0QsU0FBRCxFQUFZRSxHQUFaLEVBQW9CO0FBQzFDLFVBQU1yQixVQUFVZ0IsU0FBU0ssR0FBVCxDQUFoQjs7QUFFQUYsZ0JBQVVFLEdBQVYsSUFBaUJyQixRQUFRQyxNQUFNb0IsR0FBTixDQUFSLEVBQW9CaEIsTUFBcEIsQ0FBakI7O0FBRUEsYUFBT2MsU0FBUDtBQUNELEtBTlcsRUFNVCxFQU5TLENBRGxCOztBQVNBLFdBQU9BLFNBQVA7QUFDRCxHQVhEO0FBWUQsQ0FiRDs7QUFlQSxJQUFNRyxRQUFRLEVBQUV2Qix3QkFBRixFQUFlZ0IsZ0NBQWYsRUFBZDs7QUFFQVEsT0FBT0MsT0FBUCxHQUFpQkYsS0FBakIiLCJmaWxlIjoicmVkdXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGNyZWF0ZVN0b3JlID0gKHJlZHVjZXIpID0+IHtcbiAgbGV0IHN0YXRlLFxuICAgICAgbGlzdGVuZXJzID0gW107XG5cbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gKGFjdGlvbikgPT4ge1xuICAgIHN0YXRlID0gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoKSk7XG4gIH07XG5cbiAgY29uc3Qgc3Vic2NyaWJlID0gKGxpc3RlbmVyKSA9PiB7XG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuICgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZShsaXN0ZW5lcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSAobCkgPT4ge1xuICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoKGxpc3RlbmVyKSA9PiB7XG4gICAgICByZXR1cm4gKGxpc3RlbmVyICE9PSBsKTtcbiAgICB9KTtcbiAgfTtcblxuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogdW5kZWZpbmVkIC8vL1xuICB9KTtcblxuICByZXR1cm4geyBnZXRTdGF0ZSwgZGlzcGF0Y2gsIHN1YnNjcmliZSwgdW5zdWJzY3JpYmUgfTtcbn07XG5cbmNvbnN0IGNvbWJpbmVSZWR1Y2VycyA9IChyZWR1Y2VycykgPT4ge1xuICByZXR1cm4gKHN0YXRlID0ge30sIGFjdGlvbikgPT4ge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2VycyksXG4gICAgICAgICAgbmV4dFN0YXRlID0ga2V5cy5yZWR1Y2UoKG5leHRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcblxuICAgICAgICAgICAgbmV4dFN0YXRlW2tleV0gPSByZWR1Y2VyKHN0YXRlW2tleV0sIGFjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICAgICAgfSwge30pO1xuXG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfTtcbn07XG5cbmNvbnN0IHJlZHV4ID0geyBjcmVhdGVTdG9yZSwgY29tYmluZVJlZHVjZXJzIH07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVkdXg7XG4iXX0=